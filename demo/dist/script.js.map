{
  "version": 3,
  "sources": ["../../node_modules/@wxn0brp/db-string-query/dist/sql/utils.js", "../../node_modules/@wxn0brp/db-string-query/dist/sql/where.js", "../../node_modules/@wxn0brp/db-string-query/dist/sql/handle.js", "../../node_modules/@wxn0brp/db-string-query/dist/sql/index.js", "../../src/s2v.ts", "../script.ts"],
  "sourcesContent": [
    "export function parseReturn(method, args) {\n    return { method, args };\n}\nexport function parseSet(setString) {\n    return Object.fromEntries(setString.split(/\\s*,\\s*/).map(pair => {\n        const [key, value] = pair.split(/\\s*=\\s*/);\n        let parsedValue = value.replace(/^'|'$/g, \"\");\n        if (!isNaN(parsedValue))\n            parsedValue = Number(parsedValue);\n        return [key, parsedValue];\n    }));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc3FsL3V0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE1BQU0sVUFBVSxXQUFXLENBQUMsTUFBYyxFQUFFLElBQVc7SUFDbkQsT0FBTyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUM1QixDQUFDO0FBRUQsTUFBTSxVQUFVLFFBQVEsQ0FBQyxTQUFpQjtJQUN0QyxPQUFPLE1BQU0sQ0FBQyxXQUFXLENBQ3JCLFNBQVMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ2xDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEdBQVEsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNoRCxJQUFJLFdBQVcsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQztZQUFFLFdBQVcsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDM0QsT0FBTyxDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUM5QixDQUFDLENBQUMsQ0FDTCxDQUFDO0FBQ04sQ0FBQyJ9",
    "const operators = {\n    \"=\": null,\n    \"<\": \"$lt\",\n    \">\": \"$gt\",\n    \"<=\": \"$lte\",\n    \">=\": \"$gte\",\n    \"!=\": \"$not\",\n    \"IN\": \"$in\",\n    \"NOT IN\": \"$nin\"\n};\nfunction mergeQueries(target, source) {\n    for (const key in source) {\n        if (key.startsWith('$')) {\n            // If the key is an operator, simply add it\n            target[key] = source[key];\n        }\n        else {\n            // If the key is a field, check if there is not already an operator in the target\n            if (target[key] !== undefined) {\n                // If target[key] is an object with an operator, merge the objects\n                if (typeof target[key] === 'object' && !Array.isArray(target[key])) {\n                    Object.assign(target[key], source[key]);\n                }\n                else {\n                    target[key] = source[key];\n                }\n            }\n            else {\n                target[key] = source[key];\n            }\n        }\n    }\n}\nexport function parseWhere(where) {\n    if (!where)\n        return {};\n    const trimmed = where.trim();\n    if (trimmed === \"\" || trimmed === \"1\")\n        return {};\n    // Tokenize the input string, handling parentheses and quoted values\n    const tokens = where\n        .replace(/\\s+(?=(?:[^'\"]*['\"][^'\"]*['\"])*[^'\"]*$)/g, \" \")\n        .match(/(?:\\(|\\)|'[^']*'|\"[^\"]*\"|[^\\s()'\"]+)/g) || [];\n    let frames = [];\n    let current = {};\n    let operatorStack = [];\n    let stack = [];\n    for (let i = 0; i < tokens.length; i++) {\n        let token = tokens[i].trim();\n        if (!token)\n            continue;\n        if (token === '(') {\n            // Push current context to the stack and reset for the new group\n            frames.push({ current, operatorStack, stack });\n            current = {};\n            operatorStack = [];\n            stack = [];\n        }\n        else if (token === ')') {\n            // Combine current and stack into a grouped query\n            let groupedQuery = current;\n            if (stack.length > 0) {\n                stack.push(current);\n                groupedQuery = { $or: stack };\n            }\n            if (frames.length === 0) {\n                throw new Error(\"Unmatched closing parenthesis\");\n            }\n            const parentFrame = frames.pop();\n            const parentCurrent = parentFrame.current;\n            const parentOperatorStack = parentFrame.operatorStack;\n            const parentStack = parentFrame.stack;\n            // Merge the grouped query into the parent context\n            if (parentOperatorStack.length > 0) {\n                const op = parentOperatorStack.pop();\n                if (op === \"OR\") {\n                    parentStack.push(parentCurrent);\n                    current = groupedQuery;\n                }\n                else if (op === \"AND\") {\n                    const newCurrent = {};\n                    mergeQueries(newCurrent, parentCurrent);\n                    mergeQueries(newCurrent, groupedQuery);\n                    current = newCurrent;\n                }\n            }\n            else {\n                const newCurrent = {};\n                mergeQueries(newCurrent, parentCurrent);\n                mergeQueries(newCurrent, groupedQuery);\n                current = newCurrent;\n            }\n            // Restore parent's stack and operator stack\n            operatorStack = parentFrame.operatorStack;\n            stack = parentFrame.stack;\n        }\n        else if (token.toUpperCase() === \"AND\" || token.toUpperCase() === \"OR\") {\n            operatorStack.push(token.toUpperCase());\n        }\n        else {\n            // Process condition (key, operator, value)\n            if (operatorStack.length) {\n                const op = operatorStack[operatorStack.length - 1];\n                if (op === \"OR\") {\n                    stack.push(current);\n                    current = {};\n                    operatorStack.pop();\n                }\n            }\n            let key = token;\n            let opToken = tokens[++i]?.trim();\n            let value = tokens[++i]?.trim();\n            if (!key || !opToken || value === undefined) {\n                throw new Error(`Invalid condition near '${key} ${opToken} ${value}'`);\n            }\n            // Handle quoted values\n            if ((value.startsWith(\"'\") && value.endsWith(\"'\")) || (value.startsWith('\"') && value.endsWith('\"'))) {\n                value = value.slice(1, -1);\n            }\n            // Parse numeric values\n            if (!isNaN(Number(value))) {\n                value = Number(value);\n            }\n            // Handle IN and NOT IN operations\n            if (opToken.toUpperCase() === \"IN\" || opToken.toUpperCase() === \"NOT IN\") {\n                if (!value.startsWith(\"(\") || !value.endsWith(\")\")) {\n                    throw new Error(`Invalid syntax for '${opToken}' near '${value}'`);\n                }\n                value = value.slice(1, -1).split(\",\").map((v) => {\n                    v = v.trim();\n                    if ((v.startsWith(\"'\") && v.endsWith(\"'\")) || (v.startsWith('\"') && v.endsWith('\"'))) {\n                        return v.slice(1, -1);\n                    }\n                    return isNaN(Number(v)) ? v : Number(v);\n                });\n            }\n            // Map the operator to the query operators\n            const mappedOp = operators[opToken.toUpperCase()];\n            if (mappedOp !== undefined) {\n                if (mappedOp === null) {\n                    // \"=\" operator - direct assignment\n                    current[key] = value;\n                }\n                else {\n                    // Other operators - they go to the root level\n                    if (!current[mappedOp]) {\n                        current[mappedOp] = {};\n                    }\n                    current[mappedOp][key] = value;\n                }\n            }\n            else {\n                // If operator not found, default to direct assignment\n                current[key] = value;\n            }\n        }\n    }\n    // Combine any remaining OR conditions\n    if (stack.length > 0) {\n        stack.push(current);\n        return { $or: stack };\n    }\n    return current;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2hlcmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc3FsL3doZXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sU0FBUyxHQUEyQjtJQUN0QyxHQUFHLEVBQUUsSUFBSTtJQUNULEdBQUcsRUFBRSxLQUFLO0lBQ1YsR0FBRyxFQUFFLEtBQUs7SUFDVixJQUFJLEVBQUUsTUFBTTtJQUNaLElBQUksRUFBRSxNQUFNO0lBQ1osSUFBSSxFQUFFLE1BQU07SUFDWixJQUFJLEVBQUUsS0FBSztJQUNYLFFBQVEsRUFBRSxNQUFNO0NBQ25CLENBQUM7QUFFRixTQUFTLFlBQVksQ0FBQyxNQUFtQixFQUFFLE1BQW1CO0lBQzFELEtBQUssTUFBTSxHQUFHLElBQUksTUFBTSxFQUFFLENBQUM7UUFDdkIsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDdEIsMkNBQTJDO1lBQzNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDOUIsQ0FBQzthQUFNLENBQUM7WUFDSixpRkFBaUY7WUFDakYsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssU0FBUyxFQUFFLENBQUM7Z0JBQzVCLGtFQUFrRTtnQkFDbEUsSUFBSSxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxRQUFRLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7b0JBQ2pFLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUM1QyxDQUFDO3FCQUFNLENBQUM7b0JBQ0osTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDOUIsQ0FBQztZQUNMLENBQUM7aUJBQU0sQ0FBQztnQkFDSixNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzlCLENBQUM7UUFDTCxDQUFDO0lBQ0wsQ0FBQztBQUNMLENBQUM7QUFFRCxNQUFNLFVBQVUsVUFBVSxDQUFDLEtBQWE7SUFDcEMsSUFBSSxDQUFDLEtBQUs7UUFBRSxPQUFPLEVBQUUsQ0FBQztJQUN0QixNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDN0IsSUFBSSxPQUFPLEtBQUssRUFBRSxJQUFJLE9BQU8sS0FBSyxHQUFHO1FBQUUsT0FBTyxFQUFFLENBQUM7SUFFakQsb0VBQW9FO0lBQ3BFLE1BQU0sTUFBTSxHQUFHLEtBQUs7U0FDZixPQUFPLENBQUMsMENBQTBDLEVBQUUsR0FBRyxDQUFDO1NBQ3hELEtBQUssQ0FBQyx1Q0FBdUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUUxRCxJQUFJLE1BQU0sR0FBMkUsRUFBRSxDQUFDO0lBQ3hGLElBQUksT0FBTyxHQUFnQixFQUFFLENBQUM7SUFDOUIsSUFBSSxhQUFhLEdBQWEsRUFBRSxDQUFDO0lBQ2pDLElBQUksS0FBSyxHQUFVLEVBQUUsQ0FBQztJQUV0QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQ3JDLElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsS0FBSztZQUFFLFNBQVM7UUFFckIsSUFBSSxLQUFLLEtBQUssR0FBRyxFQUFFLENBQUM7WUFDaEIsZ0VBQWdFO1lBQ2hFLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxPQUFPLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7WUFDL0MsT0FBTyxHQUFHLEVBQUUsQ0FBQztZQUNiLGFBQWEsR0FBRyxFQUFFLENBQUM7WUFDbkIsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNmLENBQUM7YUFBTSxJQUFJLEtBQUssS0FBSyxHQUFHLEVBQUUsQ0FBQztZQUN2QixpREFBaUQ7WUFDakQsSUFBSSxZQUFZLEdBQWdCLE9BQU8sQ0FBQztZQUN4QyxJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ25CLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ3BCLFlBQVksR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsQ0FBQztZQUNsQyxDQUFDO1lBRUQsSUFBSSxNQUFNLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO2dCQUN0QixNQUFNLElBQUksS0FBSyxDQUFDLCtCQUErQixDQUFDLENBQUM7WUFDckQsQ0FBQztZQUNELE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxHQUFHLEVBQUcsQ0FBQztZQUNsQyxNQUFNLGFBQWEsR0FBRyxXQUFXLENBQUMsT0FBTyxDQUFDO1lBQzFDLE1BQU0sbUJBQW1CLEdBQUcsV0FBVyxDQUFDLGFBQWEsQ0FBQztZQUN0RCxNQUFNLFdBQVcsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO1lBRXRDLGtEQUFrRDtZQUNsRCxJQUFJLG1CQUFtQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDakMsTUFBTSxFQUFFLEdBQUcsbUJBQW1CLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQ3JDLElBQUksRUFBRSxLQUFLLElBQUksRUFBRSxDQUFDO29CQUNkLFdBQVcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7b0JBQ2hDLE9BQU8sR0FBRyxZQUFZLENBQUM7Z0JBQzNCLENBQUM7cUJBQU0sSUFBSSxFQUFFLEtBQUssS0FBSyxFQUFFLENBQUM7b0JBQ3RCLE1BQU0sVUFBVSxHQUFnQixFQUFFLENBQUM7b0JBQ25DLFlBQVksQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLENBQUM7b0JBQ3hDLFlBQVksQ0FBQyxVQUFVLEVBQUUsWUFBWSxDQUFDLENBQUM7b0JBQ3ZDLE9BQU8sR0FBRyxVQUFVLENBQUM7Z0JBQ3pCLENBQUM7WUFDTCxDQUFDO2lCQUFNLENBQUM7Z0JBQ0osTUFBTSxVQUFVLEdBQWdCLEVBQUUsQ0FBQztnQkFDbkMsWUFBWSxDQUFDLFVBQVUsRUFBRSxhQUFhLENBQUMsQ0FBQztnQkFDeEMsWUFBWSxDQUFDLFVBQVUsRUFBRSxZQUFZLENBQUMsQ0FBQztnQkFDdkMsT0FBTyxHQUFHLFVBQVUsQ0FBQztZQUN6QixDQUFDO1lBRUQsNENBQTRDO1lBQzVDLGFBQWEsR0FBRyxXQUFXLENBQUMsYUFBYSxDQUFDO1lBQzFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO1FBQzlCLENBQUM7YUFBTSxJQUFJLEtBQUssQ0FBQyxXQUFXLEVBQUUsS0FBSyxLQUFLLElBQUksS0FBSyxDQUFDLFdBQVcsRUFBRSxLQUFLLElBQUksRUFBRSxDQUFDO1lBQ3ZFLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7UUFDNUMsQ0FBQzthQUFNLENBQUM7WUFDSiwyQ0FBMkM7WUFDM0MsSUFBSSxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ3ZCLE1BQU0sRUFBRSxHQUFHLGFBQWEsQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNuRCxJQUFJLEVBQUUsS0FBSyxJQUFJLEVBQUUsQ0FBQztvQkFDZCxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUNwQixPQUFPLEdBQUcsRUFBRSxDQUFDO29CQUNiLGFBQWEsQ0FBQyxHQUFHLEVBQUUsQ0FBQztnQkFDeEIsQ0FBQztZQUNMLENBQUM7WUFFRCxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUM7WUFDaEIsSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUM7WUFDbEMsSUFBSSxLQUFLLEdBQVEsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUM7WUFFckMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFLENBQUM7Z0JBQzFDLE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLEdBQUcsSUFBSSxPQUFPLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztZQUMzRSxDQUFDO1lBRUQsdUJBQXVCO1lBQ3ZCLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQ25HLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9CLENBQUM7WUFFRCx1QkFBdUI7WUFDdkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUN4QixLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzFCLENBQUM7WUFFRCxrQ0FBa0M7WUFDbEMsSUFBSSxPQUFPLENBQUMsV0FBVyxFQUFFLEtBQUssSUFBSSxJQUFJLE9BQU8sQ0FBQyxXQUFXLEVBQUUsS0FBSyxRQUFRLEVBQUUsQ0FBQztnQkFDdkUsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ2pELE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLE9BQU8sV0FBVyxLQUFLLEdBQUcsQ0FBQyxDQUFDO2dCQUN2RSxDQUFDO2dCQUNELEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFTLEVBQUUsRUFBRTtvQkFDcEQsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztvQkFDYixJQUFJLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDO3dCQUNuRixPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzFCLENBQUM7b0JBQ0QsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM1QyxDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7WUFFRCwwQ0FBMEM7WUFDMUMsTUFBTSxRQUFRLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO1lBRWxELElBQUksUUFBUSxLQUFLLFNBQVMsRUFBRSxDQUFDO2dCQUN6QixJQUFJLFFBQVEsS0FBSyxJQUFJLEVBQUUsQ0FBQztvQkFDcEIsbUNBQW1DO29CQUNuQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO2dCQUN6QixDQUFDO3FCQUFNLENBQUM7b0JBQ0osOENBQThDO29CQUM5QyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7d0JBQ3JCLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUM7b0JBQzNCLENBQUM7b0JBQ0EsT0FBTyxDQUFDLFFBQVEsQ0FBeUIsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7Z0JBQzVELENBQUM7WUFDTCxDQUFDO2lCQUFNLENBQUM7Z0JBQ0osc0RBQXNEO2dCQUN0RCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO1lBQ3pCLENBQUM7UUFDTCxDQUFDO0lBQ0wsQ0FBQztJQUVELHNDQUFzQztJQUN0QyxJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDbkIsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNwQixPQUFPLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRCxPQUFPLE9BQU8sQ0FBQztBQUNuQixDQUFDIn0=",
    "import { parseReturn, parseSet } from \"./utils.js\";\nimport { parseWhere } from \"./where.js\";\nexport function handleSelect(query) {\n    const match = query.match(/SELECT\\s+(.+?)\\s+FROM\\s+([\\w\\/]+)(?:\\s+WHERE\\s+(.+))?/i);\n    if (!match)\n        throw new Error(\"Invalid SELECT syntax\");\n    const columnsPart = match[1].trim();\n    const collection = match[2];\n    const whereClause = match[3] ? parseWhere(match[3]) : {};\n    const findOpts = parseSelectClause(columnsPart);\n    return parseReturn(\"find\", [collection, whereClause, {}, findOpts]);\n}\nexport function parseSelectClause(selectClause) {\n    selectClause = selectClause.trim();\n    if (selectClause === \"*\")\n        return {};\n    const excludeMatch = selectClause.match(/\\*\\s+EXCLUDE\\s+(.+)/i);\n    if (excludeMatch) {\n        return {\n            exclude: excludeMatch[1].split(/\\s*,\\s*/),\n        };\n    }\n    return {\n        select: selectClause.split(/\\s*,\\s*/),\n    };\n}\nexport function handleInsert(query) {\n    const match = query.match(/INSERT INTO ([\\w\\/]+)\\s*\\(([^)]+)\\)\\s*VALUES\\s*\\(([^)]+)\\)/i);\n    if (!match)\n        throw new Error(\"Invalid INSERT syntax\");\n    const collection = match[1];\n    const keys = match[2].split(/\\s*,\\s*/);\n    function splitByCommasOutsideQuotes(str) {\n        const tokens = [];\n        let current = '';\n        let inSingleQuote = false;\n        let inDoubleQuote = false;\n        for (let i = 0; i < str.length; i++) {\n            const char = str[i];\n            if ((char === \"'\") && !inDoubleQuote) {\n                inSingleQuote = !inSingleQuote;\n                current += char;\n            }\n            else if (char === '\"' && !inSingleQuote) {\n                inDoubleQuote = !inDoubleQuote;\n                current += char;\n            }\n            else if (char === ',' && !inSingleQuote && !inDoubleQuote) {\n                tokens.push(current);\n                current = '';\n            }\n            else {\n                current += char;\n            }\n        }\n        tokens.push(current);\n        return tokens;\n    }\n    const rawValues = splitByCommasOutsideQuotes(match[3]);\n    const values = rawValues.map(v => {\n        v = v.trim();\n        if (v.length >= 2) {\n            if (v[0] === \"'\" && v[v.length - 1] === \"'\") {\n                v = v.substring(1, v.length - 1);\n            }\n            else if (v[0] === '\"' && v[v.length - 1] === '\"') {\n                v = v.substring(1, v.length - 1);\n            }\n        }\n        return v;\n    });\n    if (keys.length !== values.length)\n        throw new Error(\"Number of columns and values does not match\");\n    const data = Object.fromEntries(keys.map((k, i) => [k, isNaN(values[i]) ? values[i] : Number(values[i])]));\n    return parseReturn(\"add\", [collection, data]);\n}\nexport function handleUpdate(query) {\n    const match = query.match(/UPDATE\\s+([\\w\\/]+)\\s+SET\\s+(.+)\\s+WHERE\\s+(.+)/i);\n    if (!match)\n        throw new Error(\"Invalid UPDATE syntax\");\n    const collection = match[1];\n    const setClause = parseSet(match[2]);\n    const whereClause = parseWhere(match[3]);\n    return parseReturn(\"update\", [collection, whereClause, setClause]);\n}\nexport function handleDelete(query) {\n    const match = query.match(/DELETE FROM ([\\w\\/]+)(?: WHERE (.+))?/i);\n    if (!match)\n        throw new Error(\"Invalid DELETE syntax\");\n    const collection = match[1];\n    const whereClause = match[2] ? parseWhere(match[2]) : {};\n    return parseReturn(\"remove\", [collection, whereClause]);\n}\n// collection\nexport function handleGet(query) {\n    if (!/^GET\\s+COLLECTIONS$/i.test(query)) {\n        throw new Error(\"Invalid GET COLLECTIONS syntax.\");\n    }\n    return parseReturn(\"getCollections\", []);\n}\nexport function handleCreate(query) {\n    const match = query.match(/^CREATE\\s+(?:TABLE|COLLECTION)\\s+(IF\\s+NOT\\s+EXISTS\\s+)?(\\w+).*/i);\n    if (!match)\n        throw new Error(\"Invalid CREATE TABLE/COLLECTION syntax.\");\n    return parseReturn(\"ensureCollection\", [match[2]]);\n}\nexport function handleDrop(query) {\n    const match = query.match(/^DROP\\s+(?:TABLE|COLLECTION)\\s+(?:IF\\s+EXISTS\\s+)?(\\w+)$/i);\n    if (!match)\n        throw new Error(\"Invalid DROP TABLE/COLLECTION syntax.\");\n    return parseReturn(\"removeCollection\", [match[1]]);\n}\nexport function handleExists(query) {\n    const match = query.match(/^EXISTS\\s+(?:TABLE|COLLECTION)\\s+(\\w+)$/i);\n    if (!match)\n        throw new Error(\"Invalid EXISTS TABLE/COLLECTION syntax.\");\n    return parseReturn(\"issetCollection\", [match[1]]);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFuZGxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NxbC9oYW5kbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFDaEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUVyQyxNQUFNLFVBQVUsWUFBWSxDQUFDLEtBQWE7SUFDdEMsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyx3REFBd0QsQ0FBQyxDQUFDO0lBQ3BGLElBQUksQ0FBQyxLQUFLO1FBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0lBRXJELE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNwQyxNQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUIsTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUV6RCxNQUFNLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUNoRCxPQUFPLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxVQUFVLEVBQUUsV0FBVyxFQUFFLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ3hFLENBQUM7QUFFRCxNQUFNLFVBQVUsaUJBQWlCLENBQUMsWUFBb0I7SUFDbEQsWUFBWSxHQUFHLFlBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUVuQyxJQUFJLFlBQVksS0FBSyxHQUFHO1FBQUUsT0FBTyxFQUFFLENBQUM7SUFFcEMsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lB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",
    "import { handleCreate, handleDelete, handleDrop, handleExists, handleGet, handleInsert, handleSelect, handleUpdate } from \"./handle.js\";\nclass SQLParser {\n    parse(query) {\n        query = query.replace(/\\s+/g, \" \").trim();\n        const tokens = query.split(/\\s+/);\n        const method = tokens[0].toUpperCase();\n        if (method === \"SELECT\") {\n            return handleSelect(query);\n        }\n        else if (method === \"INSERT\") {\n            return handleInsert(query);\n        }\n        else if (method === \"UPDATE\") {\n            return handleUpdate(query);\n        }\n        else if (method === \"DELETE\") {\n            return handleDelete(query);\n        }\n        // collection\n        else if (method === \"GET\") {\n            return handleGet(query);\n        }\n        else if (method === \"CREATE\") {\n            return handleCreate(query);\n        }\n        else if (method === \"DROP\") {\n            return handleDrop(query);\n        }\n        else if (method === \"EXISTS\") {\n            return handleExists(query);\n        }\n        else {\n            throw new Error(\"Unknown query: \" + tokens[0]);\n        }\n    }\n}\nexport default SQLParser;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc3FsL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFDSCxZQUFZLEVBQ1osWUFBWSxFQUNaLFVBQVUsRUFDVixZQUFZLEVBQ1osU0FBUyxFQUNULFlBQVksRUFDWixZQUFZLEVBQ1osWUFBWSxFQUNmLE1BQU0sVUFBVSxDQUFDO0FBRWxCLE1BQU0sU0FBUztJQUNYLEtBQUssQ0FBQyxLQUFhO1FBQ2YsS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQzFDLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEMsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBRXZDLElBQUksTUFBTSxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQ3RCLE9BQU8sWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQy9CLENBQUM7YUFBTSxJQUFJLE1BQU0sS0FBSyxRQUFRLEVBQUUsQ0FBQztZQUM3QixPQUFPLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMvQixDQUFDO2FBQU0sSUFBSSxNQUFNLEtBQUssUUFBUSxFQUFFLENBQUM7WUFDN0IsT0FBTyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0IsQ0FBQzthQUFNLElBQUksTUFBTSxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQzdCLE9BQU8sWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQy9CLENBQUM7UUFDRCxhQUFhO2FBQ1IsSUFBSSxNQUFNLEtBQUssS0FBSyxFQUFFLENBQUM7WUFDeEIsT0FBTyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUIsQ0FBQzthQUFNLElBQUksTUFBTSxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQzdCLE9BQU8sWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQy9CLENBQUM7YUFBTSxJQUFJLE1BQU0sS0FBSyxNQUFNLEVBQUUsQ0FBQztZQUMzQixPQUFPLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QixDQUFDO2FBQU0sSUFBSSxNQUFNLEtBQUssUUFBUSxFQUFFLENBQUM7WUFDN0IsT0FBTyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0IsQ0FBQzthQUFNLENBQUM7WUFDSixNQUFNLElBQUksS0FBSyxDQUFDLGlCQUFpQixHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25ELENBQUM7SUFDTCxDQUFDO0NBQ0o7QUFFRCxlQUFlLFNBQVMsQ0FBQyJ9",
    "import SQLParser from \"@wxn0brp/db-string-query/sql/index\";\nimport { ValtheraQuery } from \"@wxn0brp/db-string-query/types\";\nimport { VQL_Query, VQLUQ } from \"@wxn0brp/vql-client/vql\";\n\nconst sqlParser = new SQLParser();\n\nfunction convertDbToVql(res: ValtheraQuery, dbName: string): VQL_Query {\n    const { args, method } = res;\n    const collection = args[0];\n    const baseStructure = { db: dbName, d: {} };\n\n    const methodMap: { [key: string]: any } = {\n        find: {\n            options: args[2],\n            searchOpts: args[3]\n        },\n        findOne: {\n            searchOpts: args[2]\n        },\n        update: {\n            updater: args[2]\n        },\n        updateOne: {\n            updater: args[2]\n        },\n        add: {\n            data: args[1]\n        }\n    };\n\n    baseStructure.d = {\n        [method]: methodMap[method] || {}\n    };\n\n    baseStructure.d[method].collection = collection;\n    if (method !== \"add\") baseStructure.d[method].search = args[1];\n\n    return baseStructure as VQL_Query;\n}\n\nfunction flattenObject(obj: any, prefix: string = \"\"): string {\n    const pairs: string[] = [];\n\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            const value = obj[key];\n            const fullKey = prefix ? `${prefix}.${key}` : key;\n\n            if (typeof value === \"object\" && value !== null && !Array.isArray(value)) {\n                pairs.push(...flattenObject(value, fullKey).split(\" \").filter(s => s.length > 0));\n            } else {\n                pairs.push(`${fullKey}=${value}`);\n            }\n        }\n    }\n\n    return pairs.join(\" \");\n}\n\nexport function convert_VQLR_to_VQLS(res: VQL_Query) {\n    let string = \"\";\n    if (!(\"d\" in res)) {\n        throw new Error(\"Not implemented yet\");\n    }\n\n    const d = res.d;\n    const opName = Object.keys(d)[0];\n    const op = d[opName];\n    let collection = op.collection;\n    let baseOp = opName.replace(\"One\", \"\");\n\n    if (baseOp === \"find\") { }\n    else if (baseOp === \"update\") collection = \"~\" + collection;\n    else if (baseOp === \"remove\") collection = \"-\" + collection;\n    else if (baseOp === \"add\") collection = \"+\" + collection;\n    else if (opName === \"updateOneOrAdd\") collection = \"updateOneOrAdd \" + collection;\n\n    if (opName.endsWith(\"One\")) collection += \"!\";\n\n    delete op.collection;\n    renameKeys(op, \"search\", \"s\");\n    renameKeys(op, \"data\", \"d\");\n    renameKeys(op, \"options\", \"o\");\n    renameKeys(op, \"updater\", \"u\");\n    if (op.searchOpts?.select) {\n        // @ts-ignore\n        op.select = op.searchOpts.select.reduce((obj, key) => {\n            obj[key] = 1;\n            return obj;\n        });\n        delete op.searchOpts.select;\n    }\n    renameKeys(op, \"select\", \"e\");\n\n    const args = flattenObject(op);\n\n    string += `${res.db} ${collection} ${args}`;\n    return string;\n}\n\nfunction renameKeys(obj: any, oldKey: string, newKey: string): any {\n    if (!(oldKey in obj)) return;\n    obj[newKey] = obj[oldKey];\n    delete obj[oldKey];\n}\n\nexport function s2v(sql: string, dbName: string, string = false): VQLUQ {\n    const dbData = sqlParser.parse(sql);\n    const vqluq = convertDbToVql(dbData, dbName);\n\n    return string ? convert_VQLR_to_VQLS(vqluq) : vqluq;\n}",
    "import { convert_VQLR_to_VQLS, s2v } from \"#s2v\";\n\nconst sqlInput = document.querySelector<HTMLTextAreaElement>(\"#sql-input\");\nconst dbNameInput = document.querySelector<HTMLInputElement>(\"#db-name\");\nconst translateBtn = document.querySelector<HTMLButtonElement>(\"#translate-btn\");\nconst vqlObjectOutput = document.querySelector<HTMLPreElement>(\"#vql-object\");\nconst vqlStringOutput = document.querySelector<HTMLPreElement>(\"#vql-string\");\n\nlet _vqlObject: string = \"\";\nlet _vqlString: string = \"\";\n\ntranslateBtn.addEventListener(\"click\", () => {\n    const sql = sqlInput.value.trim();\n    const dbName = dbNameInput.value.trim() || \"db1\";\n\n    if (!sql) {\n        alert(\"Please enter a SQL query\");\n        return;\n    }\n\n    try {\n        const vqlObject = s2v(sql, dbName, false) as any;\n        vqlObjectOutput.textContent = _vqlObject = JSON.stringify(vqlObject, null, 2);\n\n        const vqlString = convert_VQLR_to_VQLS(vqlObject);\n        vqlStringOutput.textContent = _vqlString = vqlString;\n    } catch (error) {\n        console.error(\"Translation error:\", error);\n        vqlObjectOutput.textContent = `Error: ${error.message}`;\n        vqlStringOutput.textContent = `Error: ${error.message}`;\n    }\n});\n\nfunction enter(e: KeyboardEvent) {\n    if (e.key === \"Enter\") {\n        translateBtn.click();\n    }\n}\n\nsqlInput.addEventListener(\"keydown\", enter);\ndbNameInput.addEventListener(\"keydown\", enter);\n\ndocument.querySelector(\"#copy-vql\").addEventListener(\"click\", () => {\n    navigator.clipboard.writeText(_vqlObject);\n    alert(\"VQL object copied to clipboard\");\n});\n\ndocument.querySelector(\"#copy-string\").addEventListener(\"click\", () => {\n    navigator.clipboard.writeText(_vqlString);\n    alert(\"VQL string copied to clipboard\");\n});"
  ],
  "mappings": "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",
  "debugId": "829D88F99057B7B364756E2164756E21",
  "names": []
}